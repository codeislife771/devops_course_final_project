# Blackbox Exporter modules
# - http_2xx: follows redirects (200/301/302)
# - http_2xx_no_redirects: fails on redirects (expects 200 only)
# - http_2xx_insecure_tls: allows self-signed/invalid TLS certs
# Host resolution for "host.docker.internal" is set in docker-compose (extra_hosts).

modules:
  http_2xx:
    prober: http
    timeout: 5s
    http:
      method: GET
      valid_status_codes: [200, 301, 302]
      preferred_ip_protocol: "ip4"

  http_2xx_no_redirects:
    prober: http
    timeout: 5s
    http:
      method: GET
      no_follow_redirects: true
      valid_status_codes: [200]
      preferred_ip_protocol: "ip4"

  http_2xx_insecure_tls:
    prober: http
    timeout: 5s
    http:
      method: GET
      valid_status_codes: [200, 301, 302]
      tls_config:
        insecure_skip_verify: true
      preferred_ip_protocol: "ip4"
